// ==UserScript==
// @name         Bulma modal
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match        */*
// @grant        none
// ==/UserScript==
!function(){return function e(t,s,o){function a(i,l){if(!s[i]){if(!t[i]){var n="function"==typeof require&&require;if(!l&&n)return n(i,!0);if(d)return d(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var c=s[i]={exports:{}};t[i][0].call(c.exports,function(e){return a(t[i][1][e]||e)},c,c.exports,e,t,s,o)}return s[i].exports}for(var d="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}}()({1:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.default=class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}setTitle(e){this.modalTitle.textContent=e}setContent(e){for(;this.body.firstChild;)this.body.removeChild(this.body.firstChild);return e instanceof HTMLElement?this.body.appendChild(e):"string"==typeof e&&(this.body.innerHTML=e),this.body.firstChild}addStyle(e){const t=document.createElement("style");return t.setAttribute("type","text/css"),t.appendChild(document.createTextNode(e)),this.shadow.appendChild(t),t}removeStyle(e){if(e instanceof HTMLStyleElement){const t=e.parentNode;null!==t&&this.shadow.isSameNode(t)&&this.shadow.removeChild(e)}}addFooterBtn(e,t,s){const o=document.createElement("button");if(o.textContent=e,t){if("string"==typeof t)t=t.split(" ");else if(!Array.isArray(t)||t.some(e=>"string"!=typeof e))throw new Error("classNames must be of type string or string[]");t.length>0&&o.classList.add(...t)}return"function"==typeof s&&o.addEventListener("click",s.bind(this)),this.footer.appendChild(o),o}removeFooterBtn(e){if(e instanceof HTMLButtonElement){const t=e.parentNode;null!==t&&this.footer.isSameNode(t)&&this.footer.removeChild(e)}}}},{}],2:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("../AbstractShadowModal");class a extends o.default{constructor(){super();const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"),this.shadow.appendChild(e),this.backdrop=document.createElement("div"),this.backdrop.classList.add("modal-backdrop","fade","show","d-none"),this.shadow.appendChild(this.backdrop);const t=document.createElement("template");t.innerHTML='\n            <div class="modal fade">\n                <div class="modal-dialog">\n                    <div class="modal-content text-dark">\n\n                        <div class="modal-header">\n                            <div class="modal-title"></div>\n                            <button type="button" class="close" data-close>\n                                <span data-close>&times;</span>\n                            </button>\n                        </div>\n\n                        <div class="modal-body"></div>\n\n                        <div class="modal-footer"></div>\n\n                    </div>\n                </div>\n            </div>\n        ',this.modal=Array.prototype.filter.call(t.content.childNodes,e=>e instanceof HTMLElement)[0],this.dialog=this.modal.querySelector(".modal-dialog"),this.header=this.modal.querySelector(".modal-header"),this.modalTitle=this.header.querySelector(".modal-title"),this.body=this.modal.querySelector(".modal-body"),this.footer=this.modal.querySelector(".modal-footer"),this.modal.addEventListener("click",e=>{const t=e.target;t instanceof HTMLElement&&(this.modal.isSameNode(t)?this.close():void 0!==t.dataset.close&&this.close())}),this.shadow.appendChild(this.modal)}open(){this.modal.classList.add("show","d-block"),this.backdrop.classList.remove("d-none")}close(){this.modal.classList.remove("show","d-block"),this.backdrop.classList.add("d-none")}set isLarge(e){e?(this.dialog.classList.remove("modal-sm"),this.dialog.classList.add("modal-lg")):this.dialog.classList.remove("modal-lg")}get isLarge(){return this.dialog.classList.contains("modal-lg")}set isSmall(e){e?(this.dialog.classList.remove("modal-lg"),this.dialog.classList.add("modal-sm")):this.dialog.classList.remove("modal-sm")}get isSmall(){return this.dialog.classList.contains("modal-sm")}set isVerticallyCentered(e){e?this.dialog.classList.add("modal-dialog-centered"):this.dialog.classList.remove("modal-dialog-centered")}get isVerticallyCentered(){return this.dialog.classList.contains("modal-dialog-centered")}set hasHeader(e){e?this.header.classList.remove("d-none"):this.header.classList.add("d-none")}get hasHeader(){return!this.header.classList.contains("d-none")}set hasFooter(e){e?this.footer.classList.remove("d-none"):this.footer.classList.add("d-none")}get hasFooter(){return!this.footer.classList.contains("d-none")}static create(e){const t=document.createElement("bootstrap4-modal");if(!e)return t;if(e.title&&t.setTitle(e.title),e.content&&t.setContent(e.content),e.style&&t.addStyle(e.style),t.isLarge=void 0!==e.isLarge&&e.isLarge,t.isSmall=void 0!==e.isSmall&&e.isSmall,t.isVerticallyCentered=void 0!==e.isVerticallyCentered&&e.isVerticallyCentered,t.hasHeader=void 0===e.hasHeader||e.hasHeader,t.hasFooter=void 0===e.hasFooter||e.hasFooter,e.footerBtns&&e.footerBtns.length>0&&e.footerBtns.forEach(e=>{t.addFooterBtn(e.text,e.classNames,e.click)}),e.appendTo){const s=document.querySelector(e.appendTo);null!==s&&s.appendChild(t)}return t}}customElements.define("bootstrap4-modal",a),s.default=a},{"../AbstractShadowModal":1}],3:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("../AbstractShadowModal");class a extends o.default{constructor(){super();const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css"),this.shadow.appendChild(e),this.hideClasses=["is-hidden-touch","is-hidden-tablet","is-hidden-desktop"];const t=document.createElement("template");t.innerHTML='\n            <div class="modal">\n                <div class="modal-background"></div>\n                    <div class="modal-card">\n                    <header class="modal-card-head">\n                        <p class="modal-card-title">Modal title</p>\n                        <button class="delete" data-close="true"></button>\n                    </header>\n                    <section class="modal-card-body"></section>\n                    <footer class="modal-card-foot"></footer>\n                </div>\n            </div>\n        ',this.modal=Array.prototype.filter.call(t.content.childNodes,e=>e instanceof HTMLElement)[0],this.background=this.modal.querySelector(".modal-background"),this.header=this.modal.querySelector(".modal-card-head"),this.modalTitle=this.header.querySelector(".modal-card-title"),this.body=this.modal.querySelector(".modal-card-body"),this.footer=this.modal.querySelector(".modal-card-foot"),this.modal.addEventListener("click",e=>{const t=e.target;t instanceof HTMLElement&&(this.background.isSameNode(t)?this.close():void 0!==t.dataset.close&&this.close())}),this.shadow.appendChild(this.modal)}open(){this.modal.classList.add("is-active")}close(){this.modal.classList.remove("is-active")}set hasHeader(e){e?this.header.classList.remove(...this.hideClasses):this.header.classList.add(...this.hideClasses)}get hasHeader(){return!this.hideClasses.every(e=>this.header.classList.contains(e))}set hasFooter(e){e?this.footer.classList.remove(...this.hideClasses):this.footer.classList.add(...this.hideClasses)}get hasFooter(){return!this.hideClasses.every(e=>this.footer.classList.contains(e))}static create(e){const t=document.createElement("bulma-modal");if(!e)return t;if(e.title&&t.setTitle(e.title),e.content&&t.setContent(e.content),e.style&&t.addStyle(e.style),t.hasHeader=void 0===e.hasHeader||e.hasHeader,t.hasFooter=void 0===e.hasFooter||e.hasFooter,e.footerBtns&&e.footerBtns.length>0&&e.footerBtns.forEach(e=>{t.addFooterBtn(e.text,e.classNames,e.click)}),e.appendTo){const s=document.querySelector(e.appendTo);null!==s&&s.appendChild(t)}return t}}customElements.define("bulma-modal",a),s.default=a},{"../AbstractShadowModal":1}],4:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("./bootstrap4/Bootstrap4");s.Bootstrap4=o.default;const a=e("./bulma/Bulma");s.Bulma=a.default},{"./bootstrap4/Bootstrap4":2,"./bulma/Bulma":3}],5:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e("shadow-modal");console.log(o.Bulma);const a=document.createElement("bulma-modal");let d=a.addStyle(".custom-color { background-color: #34495e; }");a.setTitle("A title"),a.setContent("<h3>Some content</h3>"),a.hasHeader=!1,a.addFooterBtn("Toogle header","button is-link",function(){this.hasHeader=!this.hasHeader}),a.addFooterBtn("Remove style","button custom-color has-text-light",function(e){const t=e.currentTarget;t.classList.remove("has-text-light"),t.classList.add("has-text-dark"),this.removeStyle(d)});let i=a.addFooterBtn("Remove me","button is-danger",function(){this.removeFooterBtn(i)});document.body.appendChild(a),a.open()},{"shadow-modal":4}]},{},[5]);