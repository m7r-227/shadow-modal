// ==UserScript==
// @name         ShadowModal - Bulma example
// @version      1.0.0
// @description  none
// @author       m7r-227
// @match        */*
// @grant        none
// ==/UserScript==
!function(){return function t(e,s,o){function a(i,l){if(!s[i]){if(!e[i]){var n="function"==typeof require&&require;if(!l&&n)return n(i,!0);if(d)return d(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var c=s[i]={exports:{}};e[i][0].call(c.exports,function(t){return a(e[i][1][t]||t)},c,c.exports,t,e,s,o)}return s[i].exports}for(var d="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}}()({1:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.default=class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}setTitle(t){this.modalTitle.textContent=t}setContent(t){for(;this.body.firstChild;)this.body.removeChild(this.body.firstChild);return t instanceof HTMLElement?this.body.appendChild(t):"string"==typeof t&&(this.body.innerHTML=t),this.body.firstChild}addStyle(t){const e=document.createElement("style");return e.setAttribute("type","text/css"),e.appendChild(document.createTextNode(t)),this.shadow.appendChild(e),e}addFooterBtn(t,e,s){const o=document.createElement("button");if(o.textContent=t,e){if("string"==typeof e)e=e.split(" ");else if(!Array.isArray(e)||e.some(t=>"string"!=typeof t))throw new Error("classNames must be of type string or string[]");e.length>0&&o.classList.add(...e)}return"function"==typeof s&&o.addEventListener("click",s.bind(this)),this.footer.appendChild(o),o}}},{}],2:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t("../AbstractShadowModal");class a extends o.default{constructor(){super();const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"),this.shadow.appendChild(t),this.backdrop=document.createElement("div"),this.backdrop.classList.add("modal-backdrop","fade","show","d-none"),this.shadow.appendChild(this.backdrop);const e=document.createElement("template");e.innerHTML='\n            <div class="modal fade">\n                <div class="modal-dialog">\n                    <div class="modal-content text-dark">\n\n                        <div class="modal-header">\n                            <div class="modal-title"></div>\n                            <button type="button" class="close" data-close>\n                                <span data-close>&times;</span>\n                            </button>\n                        </div>\n\n                        <div class="modal-body"></div>\n\n                        <div class="modal-footer"></div>\n\n                    </div>\n                </div>\n            </div>\n        ',this.modal=Array.prototype.filter.call(e.content.childNodes,t=>t instanceof HTMLElement)[0],this.dialog=this.modal.querySelector(".modal-dialog"),this.header=this.modal.querySelector(".modal-header"),this.modalTitle=this.header.querySelector(".modal-title"),this.body=this.modal.querySelector(".modal-body"),this.footer=this.modal.querySelector(".modal-footer"),this.modal.addEventListener("click",t=>{const e=t.target;e instanceof HTMLElement&&(this.modal.isSameNode(e)?this.close():void 0!==e.dataset.close&&this.close())}),this.shadow.appendChild(this.modal)}open(){this.modal.classList.add("show","d-block"),this.backdrop.classList.remove("d-none")}close(){this.modal.classList.remove("show","d-block"),this.backdrop.classList.add("d-none")}set isLarge(t){t?(this.dialog.classList.remove("modal-sm"),this.dialog.classList.add("modal-lg")):this.dialog.classList.remove("modal-lg")}get isLarge(){return this.dialog.classList.contains("modal-lg")}set isSmall(t){t?(this.dialog.classList.remove("modal-lg"),this.dialog.classList.add("modal-sm")):this.dialog.classList.remove("modal-sm")}get isSmall(){return this.dialog.classList.contains("modal-sm")}set isVerticallyCentered(t){t?this.dialog.classList.add("modal-dialog-centered"):this.dialog.classList.remove("modal-dialog-centered")}get isVerticallyCentered(){return this.dialog.classList.contains("modal-dialog-centered")}set hasHeader(t){t?this.header.classList.remove("d-none"):this.header.classList.add("d-none")}get hasHeader(){return!this.header.classList.contains("d-none")}set hasFooter(t){t?this.footer.classList.remove("d-none"):this.footer.classList.add("d-none")}get hasFooter(){return!this.footer.classList.contains("d-none")}static create(t){const e=document.createElement("bootstrap4-modal");if(!t)return e;if(t.title&&e.setTitle(t.title),t.content&&e.setContent(t.content),t.style&&e.addStyle(t.style),e.isLarge=void 0!==t.isLarge&&t.isLarge,e.isSmall=void 0!==t.isSmall&&t.isSmall,e.isVerticallyCentered=void 0!==t.isVerticallyCentered&&t.isVerticallyCentered,e.hasHeader=void 0===t.hasHeader||t.hasHeader,e.hasFooter=void 0===t.hasFooter||t.hasFooter,t.footerBtns&&t.footerBtns.length>0&&t.footerBtns.forEach(t=>{e.addFooterBtn(t.text,t.classNames,t.click)}),t.appendTo){const s=document.querySelector(t.appendTo);null!==s&&s.appendChild(e)}return e}}customElements.define("bootstrap4-modal",a),s.default=a},{"../AbstractShadowModal":1}],3:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t("../AbstractShadowModal");class a extends o.default{constructor(){super();const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css"),this.shadow.appendChild(t),this.hideClasses=["is-hidden-touch","is-hidden-tablet","is-hidden-desktop"];const e=document.createElement("template");e.innerHTML='\n            <div class="modal">\n                <div class="modal-background"></div>\n                    <div class="modal-card">\n                    <header class="modal-card-head">\n                        <p class="modal-card-title">Modal title</p>\n                        <button class="delete" data-close="true"></button>\n                    </header>\n                    <section class="modal-card-body"></section>\n                    <footer class="modal-card-foot"></footer>\n                </div>\n            </div>\n        ',this.modal=Array.prototype.filter.call(e.content.childNodes,t=>t instanceof HTMLElement)[0],this.background=this.modal.querySelector(".modal-background"),this.header=this.modal.querySelector(".modal-card-head"),this.modalTitle=this.header.querySelector(".modal-card-title"),this.body=this.modal.querySelector(".modal-card-body"),this.footer=this.modal.querySelector(".modal-card-foot"),this.modal.addEventListener("click",t=>{const e=t.target;e instanceof HTMLElement&&(this.background.isSameNode(e)?this.close():void 0!==e.dataset.close&&this.close())}),this.shadow.appendChild(this.modal)}open(){this.modal.classList.add("is-active")}close(){this.modal.classList.remove("is-active")}set hasHeader(t){t?this.header.classList.remove(...this.hideClasses):this.header.classList.add(...this.hideClasses)}get hasHeader(){return!this.hideClasses.every(t=>this.header.classList.contains(t))}set hasFooter(t){t?this.footer.classList.remove(...this.hideClasses):this.footer.classList.add(...this.hideClasses)}get hasFooter(){return!this.hideClasses.every(t=>this.footer.classList.contains(t))}static create(t){const e=document.createElement("bulma-modal");if(!t)return e;if(t.title&&e.setTitle(t.title),t.content&&e.setContent(t.content),t.style&&e.addStyle(t.style),e.hasHeader=void 0===t.hasHeader||t.hasHeader,e.hasFooter=void 0===t.hasFooter||t.hasFooter,t.footerBtns&&t.footerBtns.length>0&&t.footerBtns.forEach(t=>{e.addFooterBtn(t.text,t.classNames,t.click)}),t.appendTo){const s=document.querySelector(t.appendTo);null!==s&&s.appendChild(e)}return e}}customElements.define("bulma-modal",a),s.default=a},{"../AbstractShadowModal":1}],4:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t("./bootstrap4/Bootstrap4");s.Bootstrap4=o.default;const a=t("./bulma/Bulma");s.Bulma=a.default;const d=t("./uikit/Uikit");s.Uikit=d.default},{"./bootstrap4/Bootstrap4":2,"./bulma/Bulma":3,"./uikit/Uikit":5}],5:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t("../AbstractShadowModal");class a extends o.default{constructor(){super();const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/css/uikit.min.css"),this.shadow.appendChild(t);const e=document.createElement("template");e.innerHTML='\n            <div class="uk-modal">\n                <div class="uk-modal-dialog">\n                    <button class="uk-modal-close uk-close uk-icon" type="button" data-close></button>\n                    <div class="uk-modal-header">\n                        <h2 class="uk-modal-title"></h2>\n                    </div>\n                    <div class="uk-modal-body">\n                    </div>\n                    <div class="uk-modal-footer uk-text-right">\n                    </div>\n                </div>\n            </div>\n        ',this.modal=Array.prototype.filter.call(e.content.childNodes,t=>t instanceof HTMLElement)[0],this.header=this.modal.querySelector(".uk-modal-header"),this.modalTitle=this.header.querySelector(".uk-modal-title"),this.body=this.modal.querySelector(".uk-modal-body"),this.footer=this.modal.querySelector(".uk-modal-footer"),this.modal.addEventListener("click",t=>{const e=t.target;e instanceof HTMLElement&&(this.modal.isSameNode(e)?this.close():void 0!==e.dataset.close&&this.close())}),this.shadow.appendChild(this.modal)}open(){this.modal.classList.add("uk-open"),this.modal.style.display="block"}close(){this.modal.classList.remove("uk-open"),this.modal.style.display=""}set hasHeader(t){t?this.header.classList.remove("uk-hidden"):this.header.classList.add("uk-hidden")}get hasHeader(){return!this.header.classList.contains("uk-hidden")}set hasFooter(t){t?this.footer.classList.remove("uk-hidden"):this.footer.classList.add("uk-hidden")}get hasFooter(){return!this.footer.classList.contains("uk-hidden")}static create(t){const e=document.createElement("uikit-modal");if(!t)return e;if(t.title&&e.setTitle(t.title),t.content&&e.setContent(t.content),t.style&&e.addStyle(t.style),e.hasHeader=void 0===t.hasHeader||t.hasHeader,e.hasFooter=void 0===t.hasFooter||t.hasFooter,t.footerBtns&&t.footerBtns.length>0&&t.footerBtns.forEach(t=>{e.addFooterBtn(t.text,t.classNames,t.click)}),t.appendTo){const s=document.querySelector(t.appendTo);null!==s&&s.appendChild(e)}return e}}customElements.define("uikit-modal",a),s.default=a},{"../AbstractShadowModal":1}],6:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),t("shadow-modal").Bulma.create({title:"A title",content:"some content",hasHeader:!1,appendTo:"body",style:".custom-color { background-color: #34495e; }",footerBtns:[{text:"Toggle header",classNames:"button custom-color has-text-light",click:function(){this.hasHeader=!this.hasHeader}},{text:"Close",classNames:"button is-danger",click:function(){this.close()}}]}).open()},{"shadow-modal":4}]},{},[6]);